### Using ansible in this project
* Install python2 and related packages on the machine running the playbooks (see command below)
* Install python2 and related packages on the server
    * `sudo apt-get install python python-dev python-apt python-pip python-virtualenv`
* Create user `ess`
* Setup ssh keys for the `ess` user
* Use the `devops.py` wrapper script
    * i.e. `devops/ansible/devops.py -m deploy -s qa -d master`. This will deploy the master branch to the qa host. Run `devops/ansible/devops.py --help` for more info.

### Interesting devops related articles/ideas
* https://pankrat.github.io/2015/django-migrations-without-downtimes/
* Git archive for deployments instead of cloning.
* Build wheel of project (all deps would be baked into the wheel).

### Ansible Notes
* Don't need `become_user: root` because the default is `root`.
* Use `{{ ansible_managed }}` in templates to tell user don't touch the file and that it is auto generated by ansible.
    * https://docs.ansible.com/ansible/intro_configuration.html#ansible-managed.
* https://docs.ansible.com/ansible/playbooks_variables.html#magic-variables-and-how-to-access-information-about-other-hosts
* secret_key can't have `=` sign. in settings.py, `.split('=')` breaks

* Postgres & Django
    * charset/client_encoding: utf8
    * timezone: utc
    * max connections: need to decide
    * default_transaction_isolation: 'read committed'
