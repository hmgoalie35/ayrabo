## TODO
#### Deployment:
* Run dist upgrade.
* Create new directory for each deployment and venv in directory
* Make pip cache packages, specify cache to live in directory or project files. We want fast venv builds
* Have generic folder where all directories for each deployment live
* Gunicorn point to symlink which points to desired deployment. Deploy directory being tags won't work for qa staging environments
* bit.ly/db-mg
* Setup accounts with as limited privileges as possible
* Git archive if not using push to deploy
* Build wheel of project?
* media files need to be stored outside of project dir (new project dir created each deployment)
* `.env` file.

#### General:
* Add other user account to run things.

### NOTES
* A few preconditions must be met before running the playbooks
    * python 2 is installed.
    * A user named `ess` must exist.
    * ssh keys must be set up for `ess`
* Don't need `become_user: root` because the default is `root`
* Use `{{ ansible_managed }}` in templates to tell user don't touch the file, it's auto generated by ansible.
    * https://docs.ansible.com/ansible/intro_configuration.html#ansible-managed.
* https://docs.ansible.com/ansible/playbooks_variables.html#magic-variables-and-how-to-access-information-about-other-hosts


#### Nginx
* When deploying to multiple servers, take one nginx out of the load balancer, or maybe shut down that server?
    * https://www.nginx.com/resources/wiki/start/topics/tutorials/commandline/#stopping-or-restarting-nginx
* Caching: https://www.nginx.com/resources/admin-guide/content-caching/
* Actual ssl certificate, not snakeoil...
